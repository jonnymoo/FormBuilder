webpackJsonp([1],{"4/hK":function(e,t){},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i("7+uW"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]},s=i("VU/8")({name:"App"},a,!1,null,null,null).exports,r=i("/ocq"),l=i("mvHQ"),n=i.n(l),d=function(e){if(null==e)return"";var t=document.createElement("div");return t.textContent=""+e,t.innerHTML},m={name:"TextInput",props:["formField","editor","modelName","model"],computed:{formElement:function(){var e='<div class="form-group">\n        <label for="'+d(this.formField.name)+'">'+d(this.formField.label)+'</label> \n        <div class="input-group">';return this.formField.prepend&&(e=e+'\n          <div class="input-group-prepend"><span class="input-group-text">'+d(this.formField.prepend)+"</span></div>"),e=e+'\n          <input type="text" id="'+d(this.formField.name)+'" \n              name="'+d(this.formField.name)+'" \n              placeholder="'+d(this.formField.placeHolder)+'" \n              class="form-control" '+(this.formField.name?' v-model="'+this.modelName+"."+d(this.formField.name)+'" ':"")+'v-bind:readonly="form.readOnly"'+(this.formField.required?" required":"")+(this.formField.validationPattern?' pattern="'+d(this.formField.validationPattern)+'"':"")+(this.formField.validationMessage?' title="'+d(this.formField.validationMessage)+'"':"")+(this.formField.help?' aria-describedby="'+d(this.formField.key)+'_help"':"")+"/>",this.formField.append&&(e=e+'\n          <div class="input-group-append"><span class="input-group-text">'+d(this.formField.append)+"</span></div>"),e+="\n        </div>",this.formField.help&&(e=e+'\n        <small id="'+d(this.formField.key)+'_help" class="form-text text-muted">'+d(this.formField.help)+"</small>"),e+="\n      </div>"},jsonDefault:function(){return'"'+this.formField.name+'": ""'}},watch:{formElement:{immediate:!0,handler:function(e){this.formField.formElement=e}},jsonDefault:{immediate:!0,handler:function(e){this.formField.jsonDefault=e}}},data:function(){return{}},methods:{}},c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form",[i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label"},[e._v("Label")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.formField.label,expression:"formField.label"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.formField.label},on:{input:function(t){t.target.composing||e.$set(e.formField,"label",t.target.value)}}})]),e._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label"},[e._v("Name")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.formField.name,expression:"formField.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.formField.name},on:{input:function(t){t.target.composing||e.$set(e.formField,"name",t.target.value)}}})]),e._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label"},[e._v("Placeholder")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.formField.placeHolder,expression:"formField.placeHolder"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.formField.placeHolder},on:{input:function(t){t.target.composing||e.$set(e.formField,"placeHolder",t.target.value)}}})]),e._v(" "),i("div",{staticClass:"form-group form-check"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.formField.required,expression:"formField.required"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.formField.required)?e._i(e.formField.required,null)>-1:e.formField.required},on:{change:function(t){var i=e.formField.required,o=t.target,a=!!o.checked;if(Array.isArray(i)){var s=e._i(i,null);o.checked?s<0&&(e.formField.required=i.concat([null])):s>-1&&(e.formField.required=i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.formField,"required",a)}}}),e._v(" "),i("label",{staticClass:"form-check-label",attrs:{for:"exampleCheck1"}},[e._v("Required")])]),e._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label"},[e._v("Validation pattern")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.formField.validationPattern,expression:"formField.validationPattern"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.formField.validationPattern},on:{input:function(t){t.target.composing||e.$set(e.formField,"validationPattern",t.target.value)}}})]),e._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label"},[e._v("Validation message")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.formField.validationMessage,expression:"formField.validationMessage"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.formField.validationMessage},on:{input:function(t){t.target.composing||e.$set(e.formField,"validationMessage",t.target.value)}}})]),e._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label"},[e._v("Help text")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.formField.help,expression:"formField.help"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.formField.help},on:{input:function(t){t.target.composing||e.$set(e.formField,"help",t.target.value)}}})]),e._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label"},[e._v("Prepend text")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.formField.prepend,expression:"formField.prepend"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.formField.prepend},on:{input:function(t){t.target.composing||e.$set(e.formField,"prepend",t.target.value)}}})]),e._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label"},[e._v("Append text")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.formField.append,expression:"formField.append"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.formField.append},on:{input:function(t){t.target.composing||e.$set(e.formField,"append",t.target.value)}}})])])},staticRenderFns:[]},f=i("VU/8")(m,c,!1,null,null,null).exports,p={name:"TextArea",props:["formField","editor","modelName","model"],computed:{formElement:function(){var e='<div class="form-group">\n      <label for="'+d(this.formField.name)+'">'+d(this.formField.label)+'</label>\n      <div class="input-group">';return this.formField.prepend&&(e=e+'\n        <div class="input-group-prepend"><span class="input-group-text">'+d(this.formField.prepend)+"</span></div>"),e=e+'\n          <textarea id="'+d(this.formField.name)+'" \n                name="'+d(this.formField.name)+'" \n                placeholder="'+d(this.formField.placeHolder)+'"\n                cols="'+d(this.formField.cols)+'"\n                rows="'+d(this.formField.rows)+'"\n                class="form-control" '+(this.formField.name?' v-model="'+this.modelName+"."+d(this.formField.name)+'" ':"")+'v-bind:readonly="form.readOnly"'+(this.formField.required?" required":"")+(this.formField.help?' aria-describedby="'+d(this.formField.key)+'_help"':"")+"></textarea>",this.formField.append&&(e=e+'\n          <div class="input-group-append"><span class="input-group-text">'+d(this.formField.append)+"</span></div>"),e+="\n        </div>",this.formField.help&&(e=e+'\n        <small id="'+d(this.formField.key)+'_help" class="form-text text-muted">'+d(this.formField.help)+"</small>"),e+="\n      </div>"},jsonDefault:function(){return'"'+this.formField.name+'": ""'}},watch:{formElement:{immediate:!0,handler:function(e){this.formField.formElement=e}},jsonDefault:{immediate:!0,handler:function(e){this.formField.jsonDefault=e}}},data:function(){return{}},methods:{}},u={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.formField?i("form",[i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label"},[e._v("Label")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.formField.label,expression:"formField.label"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.formField.label},on:{input:function(t){t.target.composing||e.$set(e.formField,"label",t.target.value)}}})]),e._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label"},[e._v("Name")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.formField.name,expression:"formField.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.formField.name},on:{input:function(t){t.target.composing||e.$set(e.formField,"name",t.target.value)}}})]),e._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label"},[e._v("Placeholder")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.formField.placeHolder,expression:"formField.placeHolder"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.formField.placeHolder},on:{input:function(t){t.target.composing||e.$set(e.formField,"placeHolder",t.target.value)}}})]),e._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label"},[e._v("Rows")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.formField.rows,expression:"formField.rows"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.formField.rows},on:{input:function(t){t.target.composing||e.$set(e.formField,"rows",t.target.value)}}})]),e._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label"},[e._v("Columns")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.formField.cols,expression:"formField.cols"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.formField.cols},on:{input:function(t){t.target.composing||e.$set(e.formField,"cols",t.target.value)}}})]),e._v(" "),i("div",{staticClass:"form-group form-check"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.formField.required,expression:"formField.required"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.formField.required)?e._i(e.formField.required,null)>-1:e.formField.required},on:{change:function(t){var i=e.formField.required,o=t.target,a=!!o.checked;if(Array.isArray(i)){var s=e._i(i,null);o.checked?s<0&&(e.formField.required=i.concat([null])):s>-1&&(e.formField.required=i.slice(0,s).concat(i.slice(s+1)))}else e.$set(e.formField,"required",a)}}}),e._v(" "),i("label",{staticClass:"form-check-label",attrs:{for:"exampleCheck1"}},[e._v("Required")])]),e._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label"},[e._v("Help text")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.formField.help,expression:"formField.help"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.formField.help},on:{input:function(t){t.target.composing||e.$set(e.formField,"help",t.target.value)}}})]),e._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label"},[e._v("Prepend text")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.formField.prepend,expression:"formField.prepend"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.formField.prepend},on:{input:function(t){t.target.composing||e.$set(e.formField,"prepend",t.target.value)}}})]),e._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label"},[e._v("Append text")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.formField.append,expression:"formField.append"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.formField.append},on:{input:function(t){t.target.composing||e.$set(e.formField,"append",t.target.value)}}})])]):e._e()},staticRenderFns:[]},v=i("VU/8")(p,u,!1,null,null,null).exports,h=i("EFqf"),b=i.n(h),F={name:"TextInput",props:["formField","editor","modelName","model"],computed:{formElement:function(){return b()(this.formField.content||"")}},watch:{formElement:{immediate:!0,handler:function(e){this.formField.formElement=e}}},data:function(){return{}},methods:{}},g={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form",[i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label"},[e._v("Content")]),e._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.formField.content,expression:"formField.content"}],staticClass:"form-control",attrs:{rows:"80"},domProps:{value:e.formField.content},on:{input:function(t){t.target.composing||e.$set(e.formField,"content",t.target.value)}}})])])},staticRenderFns:[]},x=i("VU/8")(F,g,!1,null,null,null).exports,_=i("cOP9"),y=i.n(_),C=function(e,t,i){window.civica_monacofileDispose&&window.civica_monacofileDispose.dispose(),window.civica_monacofileDispose=window.monaco.languages.typescript.javascriptDefaults.addExtraLib("var fields = "+e+"\n      var "+t+" = "+i,"filename/fields.d.ts")},w={name:"Condition",props:["formField","editor","modelName","model"],components:{MonacoEditor:y.a},computed:{formElement:function(){var e="<template v-if='FieldCondition_"+this.formField.key+"(this.FormFields, "+this.modelName+")'>";return e+=this.editor.formHtml(this.formField.formFields),e+="</template>"},jsonDefault:function(){return this.editor.fieldsJson(this.formField.formFields)}},watch:{formElement:{immediate:!0,handler:function(e){this.formField.formElement=e}},jsonDefault:{immediate:!0,handler:function(e){this.formField.jsonDefault=e}}},methods:{monacoFocus:function(){C(this.editor.fieldsJsonDefault,this.modelName,this.model)}}},k={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form",[i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label"},[e._v("JavaScript Condition")]),e._v(" "),i("monaco-editor",{ref:"editor",staticClass:"editor",attrs:{language:"javascript",placeholder:"Loading - please wait","aria-describedby":this.formField.key+"_help"},on:{focus:e.monacoFocus},model:{value:e.formField.condition,callback:function(t){e.$set(e.formField,"condition",t)},expression:"formField.condition"}}),e._v(" "),i("small",{staticClass:"form-text text-muted",attrs:{id:this.formField.key+"_help"}},[e._v("\n      Examples "),i("br"),e._v('\n      fields.MyField === "test" '),i("br"),e._v('\n      address.postCode.startsWith("LS28") '),i("br"),e._v('\n      The last one assumes you are in a repeating section called "address"\n    ')])],1)])},staticRenderFns:[]},T=i("VU/8")(w,k,!1,null,null,null).exports,N={name:"RepeatingSection",props:["formField","editor","modelName","model"],components:{MonacoEditor:y.a},computed:{formElement:function(){var e='\n      <div class="form-group">\n        <div id="accordion_'+this.formField.key+'">\n          <div class="card" v-for="('+d(this.formField.name)+", index) in "+this.modelName+"."+d(this.formField.name)+'_items">\n            <div class="card-header container-fluid" :id="\'heading_'+this.formField.key+'_\' + index">\n              <div class="row">\n                <div class="col col-9">\n                  <button type="button" class="btn btn-link" data-toggle="collapse" :data-target="\'#collapse_'+this.formField.key+'_\' + index" aria-expanded="true" aria-controls="collapseOne">\n                    '+d(this.formField.label)+'\n                  </button>\n                </div>\n                <div class="col col-3 text-right">\n                  <button type="button" class="btn btn-link" v-on:click=\'Remove_'+this.formField.key+"($event, "+this.modelName+"."+d(this.formField.name)+"_items, index)'>\n                    "+d(this.formField.removeButtonText)+"\n                  </button>\n                </div>\n              </div>\n            </div>\n            <div :id=\"'collapse_"+this.formField.key+'_\' + index" class="collapse" v-bind:class="{ show: '+d(this.formField.name)+'.show }" :aria-labelledby="\'heading_'+this.formField.key+'_\' + index" data-parent="#accordion_'+this.formField.key+'">\n              <div class="card-body">';return e+=this.editor.formHtml(this.formField.formFields),e+='\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="form-group">\n        <button class="btn" type="button" v-on:click=\'Add_'+this.formField.key+"($event, "+this.modelName+"."+d(this.formField.name)+"_items)'>"+d(this.formField.addButtonText)+"</button>\n      </div>\n      "},jsonDefault:function(){return'"'+this.formField.name+'_items": []'}},watch:{formElement:{immediate:!0,handler:function(e){this.formField.formElement=e}},jsonDefault:{immediate:!0,handler:function(e){this.formField.jsonDefault=e}}},methods:{monacoFocus:function(){C(this.editor.fieldsJsonDefault,this.formField.name,"{"+this.editor.fieldsJson(this.formField.formFields)+"}")}}},P={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form",[i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label"},[e._v(" Templated Header Label")]),e._v(" "),i("monaco-editor",{ref:"editor",staticClass:"editor",staticStyle:{"min-height":"100px"},attrs:{language:"handlebars",placeholder:"Loading - please wait","aria-describedby":this.formField.key+"_help"},on:{focus:e.monacoFocus},model:{value:e.formField.label,callback:function(t){e.$set(e.formField,"label",t)},expression:"formField.label"}}),e._v(" "),i("small",{staticClass:"form-text text-muted",attrs:{id:this.formField.key+"_help"}},[e._v("\n      See "),i("a",{attrs:{href:"https://vuejs.org/v2/guide/syntax.html"}},[e._v('"Mustache" syntax ')]),i("br"),e._v("\n      Use the repeating section name to access fields. E.g. "),i("span",{pre:!0},[e._v("Beneficiary - {{ beneficiary.name }}")])])],1),e._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label"},[e._v("Repeating Section Name")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.formField.name,expression:"formField.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.formField.name},on:{input:function(t){t.target.composing||e.$set(e.formField,"name",t.target.value)}}})]),e._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label"},[e._v("Add Text")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.formField.addButtonText,expression:"formField.addButtonText"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.formField.addButtonText},on:{input:function(t){t.target.composing||e.$set(e.formField,"addButtonText",t.target.value)}}})]),e._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label"},[e._v("Remove Text")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.formField.removeButtonText,expression:"formField.removeButtonText"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.formField.removeButtonText},on:{input:function(t){t.target.composing||e.$set(e.formField,"removeButtonText",t.target.value)}}})])])},staticRenderFns:[]},A={components:{TextInput:f,TextArea:v,MarkDown:x,Condition:T,RepeatingSection:i("VU/8")(N,P,!1,null,null,null).exports},name:"FieldProperties",props:["formFields","editor","modelName","model"],data:function(){return{}},methods:{}},E={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._l(e.formFields,function(t){return i("div",{directives:[{name:"show",rawName:"v-show",value:t.selected,expression:"field.selected"}],key:t.key,staticClass:"fieldProperty"},["TextInput"===t.type?i("TextInput",{attrs:{formField:t,editor:e.editor,modelName:e.modelName,model:e.model}}):e._e(),e._v(" "),"TextArea"===t.type?i("TextArea",{attrs:{formField:t,editor:e.editor,modelName:e.modelName,model:e.model}}):e._e(),e._v(" "),"MarkDown"===t.type?i("MarkDown",{attrs:{formField:t,editor:e.editor,modelName:e.modelName,model:e.model}}):e._e(),e._v(" "),"Condition"===t.type?i("Condition",{attrs:{formField:t,editor:e.editor,modelName:e.modelName,model:e.model}}):e._e(),e._v(" "),"RepeatingSection"===t.type?i("RepeatingSection",{attrs:{formField:t,editor:e.editor,modelName:e.modelName,model:e.model}}):e._e()],1)}),e._v(" "),e._l(e.formFields,function(t){return null!==t.formFields?i("FieldProperties",{key:"field-"+t.key,attrs:{formFields:t.formFields,editor:e.editor,modelName:t.name?t.name:e.modelName,model:"{"+e.editor.fieldsJson(t.formFields)+"}"}}):e._e()})],2)},staticRenderFns:[]},S=i("VU/8")(A,E,!1,null,null,null).exports,j=i("DAYN"),H={components:{draggable:i.n(j).a},name:"FieldsEditor",props:["editor","form"],data:function(){return{}},methods:{deleteItem:function(e){this.form.formFields.splice(e,1)},moveUp:function(e){var t=this.form.formFields[e];this.form.formFields.splice(e,1),this.form.formFields.splice(e-1,0,t)},moveDown:function(e){var t=this.form.formFields[e];this.form.formFields.splice(e,1),this.form.formFields.splice(e+1,0,t)}}},$={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("draggable",{staticClass:"dragArea",attrs:{options:{group:"formFields",handle:".editor-buttons"}},model:{value:e.form.formFields,callback:function(t){e.$set(e.form,"formFields",t)},expression:"form.formFields"}},e._l(e.form.formFields,function(t,o){return i("div",{key:t.key,staticClass:"editor-field",class:{selected:t.selected},attrs:{tabindex:"0"},on:{focus:function(i){e.$nextTick(function(){e.editor.selectField(t.key)})}}},[i("div",{staticClass:"editor-buttons"},[i("div",[i("span",{staticClass:"btn btn-sm",attrs:{role:"button",title:"move"}},[i("i",{staticClass:"fas fa-arrows-alt"})]),e._v(" "),i("span",{staticClass:"btn btn-sm",attrs:{title:"move up",role:"button","aria-label":"move up"},on:{click:function(t){e.moveUp(o)}}},[i("i",{staticClass:"fas fa-arrow-up"})]),e._v(" "),i("span",{staticClass:"btn btn-sm",attrs:{title:"move down",role:"button","aria-label":"move down"},on:{click:function(t){e.moveDown(o)}}},[i("i",{staticClass:"fas fa-arrow-down"})]),e._v(" "),i("span",{staticClass:"btn btn-sm",attrs:{title:"remove",role:"button","aria-label":"remove"},on:{click:function(t){e.deleteItem(o)}}},[i("i",{staticClass:"fas fa-times"})])]),e._v(" "),i("span",{staticClass:"btn btn-sm",attrs:{title:"copy",role:"button","aria-label":"copy"},on:{click:function(i){e.editor.copy(t)}}},[i("i",{staticClass:"fas fa-copy"})]),e._v(" "),i("span",{staticClass:"btn btn-sm",attrs:{title:"cut",role:"button","aria-label":"cut"},on:{click:function(i){e.editor.cut(t)}}},[i("i",{staticClass:"fas fa-cut"})]),e._v(" "),i("span",{staticClass:"btn btn-sm",attrs:{title:"paste",role:"button","aria-label":"past"},on:{click:function(i){e.editor.paste(t)}}},[i("i",{staticClass:"fas fa-paste"})]),e._v(" "),i("div")]),e._v(" "),null===t.formFields?i("div",{staticClass:"editor-form-element",domProps:{innerHTML:e._s(t.formElement)}}):i("div",{staticClass:"editor-form-element"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.desc,expression:"field.desc"}],staticClass:"form-control",attrs:{type:"text","aria-label":"field description"},domProps:{value:t.desc},on:{input:function(i){i.target.composing||e.$set(t,"desc",i.target.value)}}}),e._v(" "),i("FieldsEditor",{attrs:{editor:e.editor,form:t}})],1)])}))},staticRenderFns:[]},D=i("VU/8")(H,$,!1,null,null,null).exports,J=i("E5Az"),M=(i("4/hK"),i("5IAE"),i("8Nur"),i("7bwT"),{components:{codemirror:J.codemirror},name:"FormPreview",props:["editor"],data:function(){return{readOnly:!1,settingsVisible:!1,previewVisible:!0,HTMLSourceVisible:!1,fieldsJson:"",cmOptions:{tabSize:4,mode:"application/json",lineNumbers:!0,line:!0,autoRefresh:!0},cmOptionshtml:{tabSize:4,mode:"text/html",lineNumbers:!0,line:!0,autoRefresh:!0,readOnly:!0}}},computed:{preview:function(){var e='<!doctype html>\n<html lang="en">\n  <head>\n    \x3c!-- Required meta tags --\x3e\n    <meta charset="utf-8" />\n    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />\n\n    \x3c!-- Bootstrap CSS --\x3e\n    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous" />\n    \n    \x3c!-- Font awesome --\x3e\n    <script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"><\/script>\n\n    <title>Form Builder</title>\n  </head>\n  <body>\n    <div id="app">\n      <form onsubmit="return submitForm(event)" class="container needs-validation">';return e+=this.editor.formHtml(this.editor.formFields),this.readOnly||(e=e+'\n        <div class="form-group">\n          <input type="submit" class="btn btn-primary" value="'+d(this.editor.submitText)+'" />\n        </div>'),e+='\n      </form>\n    </div>\n    \x3c!-- Optional JavaScript --\x3e\n    \x3c!-- jQuery first, then Popper.js, then Bootstrap JS --\x3e\n    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"><\/script>\n    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"><\/script>\n    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"><\/script>\n\n    \x3c!-- Vue --\x3e\n    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.14/dist/vue.js"><\/script>\n    <script>\n      var fields = ',e=(e+=this.fieldsJson?this.fieldsJson:"{"+this.editor.fieldsJson(this.editor.formFields)+"}")+"\n      new Vue({\n        el: '#app',\n        data: {\n          form: {\n            readOnly: "+this.readOnly+"\n          },\n          FormFields: fields\n        },\n        methods: {\n          "+this.methodsJson().join(",\r\n")+"\n        }\n      })\n      function submitForm(e) {\n        e.preventDefault()\n        alert(JSON.stringify(fields))\n        return false\n      }\n\n      // Bootstrap validation\n      (function() {\n        'use strict';\n        window.addEventListener('load', function() {\n          // Fetch all the forms we want to apply custom Bootstrap validation styles to\n          var forms = document.getElementsByClassName('needs-validation');\n          // Loop over them and prevent submission\n          var validation = Array.prototype.filter.call(forms, function(form) {\n            form.addEventListener('submit', function(event) {\n              if (form.checkValidity() === false) {\n                event.preventDefault();\n                event.stopPropagation();\n              }\n              form.classList.add('was-validated');\n            }, false);\n          });\n        }, false);\n      })();\n    <\/script>\n    <style>\n      .btn-link {\n        white-space: inherit;\n      }\n    </style>\n  </body>\n</html>"}},methods:{setDefault:function(){var e="{"+this.editor.fieldsJson(this.editor.formFields)+"}";this.fieldsJson=n()(JSON.parse(e),void 0,2)},methodsJson:function(e,t){void 0===e&&(e=this.editor.formFields),void 0===t&&(t="FormFields");var i=0,o=[];for(i=0;i<e.length;i++){var a=e[i];o.push("        'FieldCondition_"+a.key+"': function (fields, "+t+") {\n          return ( "+(""===a.condition?"true":a.condition)+" )\n        }"),a.addButtonText&&o.push("        'Add_"+a.key+"': function (e, items) {\n            var i = 0\n            e.preventDefault()\n            for (i = 0; i < items.length; i++) {\n              items[i].show = false\n            }\n\n            var item = {\n              "+this.editor.fieldsJson(a.formFields)+"\n            }\n            item.show = true\n            items.push(item)\n            return false\n          }"),a.removeButtonText&&o.push("        'Remove_"+a.key+"': function (e, items,index) {\n            e.preventDefault()\n            items.splice(index, 1)\n            return false\n          }"),a.formFields&&(o=o.concat(this.methodsJson(a.formFields,a.name?a.name:t)))}return o}}}),V={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container-fluid"},[i("div",{attrs:{role:"tablist","aria-multiselectable":"true"}},[i("div",{staticClass:"card"},[i("div",{staticClass:"card-header",attrs:{role:"tab",id:"HeadingPreviewSettings"}},[i("h5",{staticClass:"mb-0"},[i("a",{class:{collapsed:!e.settingsVisible},attrs:{href:"javascript:void(0)","aria-expanded":e.settingsVisible,"aria-controls":"PreviewSettings"},on:{click:function(t){e.settingsVisible=!e.settingsVisible}}},[e._v("\n            Preview settings\n          ")])])]),e._v(" "),i("div",{staticClass:"collapse",class:{show:e.settingsVisible},attrs:{id:"PreviewSettings",role:"tabpanel","aria-labelledby":"PreviewSettings"}},[i("div",{staticClass:"card-block"},[i("div",{staticClass:"container-fluid"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("div",{staticClass:"form-group form-check"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.readOnly,expression:"readOnly"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.readOnly)?e._i(e.readOnly,null)>-1:e.readOnly},on:{change:function(t){var i=e.readOnly,o=t.target,a=!!o.checked;if(Array.isArray(i)){var s=e._i(i,null);o.checked?s<0&&(e.readOnly=i.concat([null])):s>-1&&(e.readOnly=i.slice(0,s).concat(i.slice(s+1)))}else e.readOnly=a}}}),e._v(" "),i("label",{staticClass:"form-check-label",attrs:{for:"exampleCheck1"}},[e._v("Read Only")])]),e._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label"},[e._v("Input JSON")]),e._v(" "),i("a",{attrs:{href:"javascript:void(0)"},on:{click:e.setDefault}},[e._v("Set default")]),e._v(" "),i("codemirror",{attrs:{options:e.cmOptions},model:{value:e.fieldsJson,callback:function(t){e.fieldsJson=t},expression:"fieldsJson"}})],1)])])])])])]),e._v(" "),i("div",{staticClass:"card"},[i("div",{staticClass:"card-header",attrs:{role:"tab",id:"HeadingPreview"}},[i("h5",{staticClass:"mb-0"},[i("a",{class:{collapsed:!e.previewVisible},attrs:{href:"javascript:void(0)","aria-expanded":e.previewVisible,"aria-controls":"collapseTwo"},on:{click:function(t){e.previewVisible=!e.previewVisible}}},[e._v("\n            Preview\n          ")])])]),e._v(" "),i("div",{staticClass:"collapse",class:{show:e.previewVisible},attrs:{id:"Preview",role:"tabpanel","aria-labelledby":"HeadingPreview"}},[i("div",{staticClass:"card-block"},[i("iframe",{attrs:{srcdoc:e.preview}})])])]),e._v(" "),i("div",{staticClass:"card"},[i("div",{staticClass:"card-header",attrs:{role:"tab",id:"HeadingHTMLSource"}},[i("h5",{staticClass:"mb-0"},[i("a",{class:{collapsed:!e.HTMLSourceVisible},attrs:{href:"javascript:void(0)","aria-expanded":e.HTMLSourceVisible,"aria-controls":"HTMLSource"},on:{click:function(t){e.HTMLSourceVisible=!e.HTMLSourceVisible}}},[e._v("\n            HTML Source\n          ")])])]),e._v(" "),i("div",{staticClass:"collapse",class:{show:e.HTMLSourceVisible},attrs:{id:"HTMLSource",role:"tabpanel","aria-labelledby":"HeadingHTMLSource"}},[i("codemirror",{attrs:{value:e.preview,options:e.cmOptionshtml}})],1)])])])},staticRenderFns:[]},R=i("VU/8")(M,V,!1,null,null,null).exports,q=[{type:"TextInput",desc:"Text Input",formFields:null},{type:"TextArea",desc:"Text Area",formFields:null},{type:"MarkDown",desc:"MarkDown",formFields:null},{type:"Condition",desc:"Condition",formFields:[]},{type:"RepeatingSection",desc:"Repeating Section",formFields:[]}];function O(e,t,i,o,a){e?function s(r){if(r===e.length)a();else{var l={},n=e[r];l.key=void 0===n.key?null:n.key,l.type=void 0===n.type?null:n.type,l.desc=void 0===n.desc?null:n.desc,l.name=void 0===n.name?null:n.name,l.jsonDefault=void 0===n.jsonDefault?null:n.jsonDefault,l.label=void 0===n.label?null:n.label,l.placeHolder=void 0===n.placeHolder?null:n.placeHolder,l.content=void 0===n.content?null:n.content,l.condition=void 0===n.condition?"":n.condition,l.formElement=void 0===n.formElement?null:n.formElement,l.selected=void 0!==n.selected&&n.selected,l.cols=void 0===n.cols?40:n.cols,l.rows=void 0===n.rows?5:n.rows,l.required=void 0!==n.required&&n.required,l.validationPattern=void 0===n.validationPattern?null:n.validationPattern,l.validationMessage=void 0===n.validationMessage?null:n.validationMessage,l.addButtonText=void 0===n.addButtonText?null:n.addButtonText,l.removeButtonText=void 0===n.removeButtonText?null:n.removeButtonText,l.help=void 0===n.help?null:n.help,l.prepend=void 0===n.prepend?null:n.prepend,l.append=void 0===n.append?null:n.append,l.formFields=n.formFields?[]:null,t.splice(i+r,0,l),o(l,function(){O(n.formFields,l.formFields,0,o,function(){s(r+1)})})}}(0):a()}function B(){return"xxxxxxxx_xxxx_4xxx_yxxx_xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}var L={name:"Editor",props:["repository"],components:{FieldProperties:S,FieldsEditor:D,FormPreview:R,MonacoEditor:y.a},data:function(){return{formFields:[],formTabActive:!0,propertiesTabActive:!1,fieldsTabActive:!0,previewTabActive:!1,fieldTypes:q,submitText:"Submit",clipboard:{field:null}}},computed:{fieldsJsonDefault:function(){return"{"+this.fieldsJson(this.formFields)+"}"},formJson:function(){return'{\n        "submitText": '+n()(this.submitText)+',\n        "formFields": '+n()(this.formFields)+"\n      }"}},methods:{selectField:function(e,t){var i=0;for(void 0===t&&(t=this.formFields),i=0;i<t.length;i++)t[i].selected=t[i].key===e,t[i].formFields&&this.selectField(e,t[i].formFields);this.activateTab("properties")},activateTab:function(e){"form"===e||"properties"===e?(this.formTabActive="form"===e,this.propertiesTabActive="form"!==e):(this.fieldsTabActive="fields"===e,this.previewTabActive="fields"!==e)},addFormItem:function(e){var t=0,i=this,o=this.getCurrentList();for(null===o&&(o=this.formFields),t=0;t<o.length&&!o[t].selected;t++);O([e],o,t+1,function(e,t){e.key=B(),i.selectField(e.key),t()},function(){})},getCurrentList:function(e){var t=0;for(void 0===e&&(e=this.formFields),t=0;t<e.length;t++){if(e[t].selected)return null!==e[t].formFields?e[t].formFields:e;if(null!==e[t].formFields){var i=this.getCurrentList(e[t].formFields);if(null!==i)return i}}return null},formHtml:function(e){var t="",i=0;for(i=0;i<e.length;i++)t+=e[i].formElement;return t},fieldsJson:function(e){var t="",i=null,o=!0,a=0;for(a=0;a<e.length;a++)(i=e[a].jsonDefault)&&(o?o=!1:t+=",",t+=i);return t},copy:function(e){this.clipboard.field=e},cut:function(e){this.clipboard.field=e,this.remove(e)},paste:function(e,t){var i=0,o=0,a=null,s=this;for(void 0===t&&(t=this.formFields),i=0;i<t.length;i++){if(t[i].key===e.key)return t[i].formFields?(a=t[i].formFields,o=0):(a=t,o=i+1),O([this.clipboard.field],a,o,function(e,t){e.key=B(),s.selectField(e.key),s.$nextTick(function(){t()})},function(){}),!0;if(t[i].formFields&&this.paste(e,t[i].formFields))return!0}return!1},remove:function(e,t){var i=0;for(void 0===t&&(t=this.formFields),i=0;i<t.length;i++){if(t[i].key===e.key)return t.splice(i,1),!0;if(t[i].formFields&&this.remove(e,t[i].formFields))return!0}return!1},populate:function(e){var t=JSON.parse(e);this.submitText=t.submitText,this.formFields=[];var i=this;O(t.formFields,this.formFields,0,function(e,t){i.selectField(e.key),i.$nextTick(function(){t()})},function(){})},load:function(e){var t=this;this.repository.load(e,function(e){t.populate(e)})},save:function(e){var t=n()(JSON.parse(this.formJson),void 0,2);this.repository.save(e,t)}}},U={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container-fluid"},[i("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark"},[i("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[e._v("Form Builder")]),e._v(" "),e._m(0),e._v(" "),i("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[e._m(1),e._v(" "),i("div",[i("input",{attrs:{type:"file",id:"input"},on:{change:function(t){e.load(t.target.files.length>0?t.target.files[0]:null)}}})]),e._v(" "),i("div",[i("button",{staticClass:"btn btn-outline-success",attrs:{type:"submit"},on:{click:function(t){e.save("download.txt")}}},[e._v("Download")])])])]),e._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-4"},[i("ul",{staticClass:"nav nav-tabs",attrs:{id:"editorTab",role:"tablist"}},[i("li",{staticClass:"nav-item"},[i("a",{staticClass:"nav-link",class:{active:e.formTabActive},attrs:{id:"form-tab","data-toggle":"tab",href:"javascript:void(0)",role:"tab","aria-controls":"form","aria-selected":e.formTabActive},on:{click:function(t){e.activateTab("form")}}},[e._v("Form")])]),e._v(" "),i("li",{staticClass:"nav-item"},[i("a",{staticClass:"nav-link",class:{active:e.propertiesTabActive},attrs:{id:"properties-tab","data-toggle":"tab",href:"javascript:void(0)",role:"tab","aria-controls":"properties","aria-selected":e.propertiesTabActive},on:{click:function(t){e.activateTab("properties")}}},[e._v("Properties")])])]),e._v(" "),i("div",{staticClass:"tab-content",attrs:{id:"editorTabContent"}},[i("div",{staticClass:"tab-pane fade container-fluid",class:{active:e.formTabActive,show:e.formTabActive},attrs:{id:"form",role:"tabpanel","aria-labelledby":"fields-tab"}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("div",{staticClass:"form-group field-type-buttons"},[e._l(e.fieldTypes,function(t){return[t.type?i("button",{key:t.type,staticClass:"btn",attrs:{id:t.type},on:{click:function(i){e.addFormItem(t)}}},[e._v(e._s(t.desc))]):i("br",{key:t.type})]})],2)])]),e._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"submit-text"}},[e._v("Submit button")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.submitText,expression:"submitText"}],staticClass:"form-control",attrs:{id:"submit-text",name:"submit-text"},domProps:{value:e.submitText},on:{input:function(t){t.target.composing||(e.submitText=t.target.value)}}})])])])]),e._v(" "),i("div",{staticClass:"tab-pane fade",class:{active:e.propertiesTabActive,show:e.propertiesTabActive},attrs:{id:"properties",role:"tabpanel","aria-labelledby":"properties-tab"}},[i("FieldProperties",{attrs:{formFields:e.formFields,editor:this,modelName:"FormFields",model:e.fieldsJson}})],1)])]),e._v(" "),i("div",{staticClass:"col-md-8"},[i("ul",{staticClass:"nav nav-tabs",attrs:{id:"previewTab",role:"tablist"}},[i("li",{staticClass:"nav-item"},[i("a",{staticClass:"nav-link",class:{active:e.fieldsTabActive},attrs:{id:"fields-editor-tab","data-toggle":"tab",href:"javascript:void(0)",role:"tab","aria-controls":"fields-editor","aria-selected":e.fieldsTabActive},on:{click:function(t){e.activateTab("fields")}}},[e._v("Editor")])]),e._v(" "),i("li",{staticClass:"nav-item"},[i("a",{staticClass:"nav-link",class:{active:e.previewTabActive},attrs:{id:"preview-tab","data-toggle":"tab",href:"javascript:void(0)",role:"tab","aria-controls":"preview","aria-selected":e.previewTabActive},on:{click:function(t){e.activateTab("preview")}}},[e._v("Preview")])])]),e._v(" "),i("div",{staticClass:"tab-content",attrs:{id:"previewTabContent"}},[i("div",{staticClass:"tab-pane fade",class:{active:e.fieldsTabActive,show:e.fieldsTabActive},attrs:{id:"fields-editor",role:"tabpanel","aria-labelledby":"fields-editor-tab"}},[i("FieldsEditor",{attrs:{editor:this,form:this}})],1),e._v(" "),i("div",{staticClass:"tab-pane fade",class:{active:e.previewTabActive,show:e.previewTabActive},attrs:{id:"preview",role:"tabpanel","aria-labelledby":"preview-tab"}},[i("FormPreview",{attrs:{editor:this}})],1)])])]),e._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col"},[i("monaco-editor",{ref:"editor",staticClass:"invisible",attrs:{language:"javascript",placeholder:"Loading please wait"}})],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[t("span",{staticClass:"navbar-toggler-icon"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",{staticClass:"navbar-nav mr-auto"},[t("li",{staticClass:"nav-item active"},[t("a",{staticClass:"nav-link",attrs:{href:"#"}},[this._v("Home "),t("span",{staticClass:"sr-only"},[this._v("(current)")])])])])}]},I=i("VU/8")(L,U,!1,null,null,null).exports;o.a.use(r.a);var Q=new r.a({routes:[{path:"/",name:"Editor",component:I,props:{repository:{save:function(e,t){if(window.navigator.msSaveBlob){var i=new Blob([t],{type:"text/plain;charset=utf-8;"});navigator.msSaveBlob(i,e)}else{var o=document.createElement("a");o.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),o.setAttribute("download",e),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o)}},load:function(e,t){var i=new FileReader;i.onload=function(e){t(e.target.result)},i.readAsText(e)}}}}]});o.a.config.productionTip=!1,new o.a({el:"#app",router:Q,components:{App:s},template:"<App/>"})}},["NHnr"]);
//# sourceMappingURL=app.d74869e1bac943827527.js.map